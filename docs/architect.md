#### 项目架构

这是一个小型的shell解释程序的项目, 支持功能不完整, 且仅仅支持x86-64 Linux 下的shell命令, 无法兼容windows下powershell.

整个项目包含三个部分组成:
1. 输入/输出处理模块
这个模块主要控制与控制台的输入输出逻辑, 输入shell指令, 输出执行结果到控制台(暂时不支持重定向的功能)

2. parser模块
对输入的token进行处理, 生成语法树

3. 执行器模块
负责实际上的命令执行工作, 执行结果输出到输出模块中

整体的架构图如下:
<img src="/img/interpreter.png" alt="alt" style="zoom:67%;" />

#### 实现细则

##### IO与进程间通信

程序中客户端作为一个进程, 服务端作为一个进程运行, 当然可能会有多个客户端连接同一个服务端的可能性. 这一点也是需要考虑的. 这里暂时不考虑服务端宕机恢复的过程. 即假设任务运行的时候服务是不会宕机的.

那么客户端对服务端的访问就是一个多对一的过程. 常见的进程通信方式有 管道通信, Socket通信, 共享内存通信, 以及消息中间件.

考虑到项目的规模消息中间件很显然不合适.

共享内存在返回数据比较多的时候, 假设返回了日志信息, 这个时候对于多个客户端来说, 可能会占用大量的直接内存.

所以这里的选择就在Socket通信和管道通信中选择了.

